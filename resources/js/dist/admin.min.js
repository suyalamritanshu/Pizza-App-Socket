"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initAdmin=initAdmin;var _axios=_interopRequireDefault(require("axios")),_moment=_interopRequireDefault(require("moment")),_noty=_interopRequireDefault(require("noty"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function initAdmin(e){var n,t=document.querySelector("#orderTableBody"),o=[];function r(e){return e.map(function(e){return'\n                <tr>\n                <td class="border px-4 py-2 text-green-900">\n                    <p>'.concat(e._id,"</p>\n                    <div>").concat(function(e){return Object.values(e).map(function(e){return"\n                <p>".concat(e.item.name," - ").concat(e.qty," pcs </p>\n            ")}).join("")}(e.items),'</div>\n                </td>\n                <td class="border px-4 py-2">').concat(e.customerId.name,'</td>\n                <td class="border px-4 py-2">').concat(e.address,'</td>\n                <td class="border px-4 py-2">\n                    <div class="inline-block relative w-64">\n                        <form action="/admin/order/status" method="POST">\n                            <input type="hidden" name="orderId" value="').concat(e._id,'">\n                            <select name="status" onchange="this.form.submit()"\n                                class="block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline">\n                                <option value="order_placed"\n                                    ').concat("order_placed"===e.status?"selected":"",'>\n                                    Placed</option>\n                                <option value="confirmed" ').concat("confirmed"===e.status?"selected":"",'>\n                                    Confirmed</option>\n                                <option value="prepared" ').concat("prepared"===e.status?"selected":"",'>\n                                    Prepared</option>\n                                <option value="delivered" ').concat("delivered"===e.status?"selected":"",'>\n                                    Delivered\n                                </option>\n                                <option value="completed" ').concat("completed"===e.status?"selected":"",'>\n                                    Completed\n                                </option>\n                            </select>\n                        </form>\n                        <div\n                            class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">\n                            <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg"\n                                viewBox="0 0 20 20">\n                                <path\n                                    d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z" />\n                            </svg>\n                        </div>\n                    </div>\n                </td>\n                <td class="border px-4 py-2">\n                    ').concat((0,_moment.default)(e.createdAt).format("hh:mm A"),'\n                </td>\n                <td class="border px-4 py-2">\n                    ').concat(e.paymentStatus?"paid":"Not paid","\n                </td>\n            </tr>\n        ")}).join("")}_axios.default.get("/admin/orders",{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){o=e.data,n=r(o),t.innerHTML=n}).catch(function(e){console.log(e)}),e.on("orderPlaced",function(e){new _noty.default({type:"success",timeout:1e3,text:"New Order",progressBar:!1}).show(),o.unshift(e),t.innerHTML="",t.innerHTML=r(o)})}
//# sourceMappingURL=admin.min.js.map
